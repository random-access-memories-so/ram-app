(this["webpackJsonpram-app"]=this["webpackJsonpram-app"]||[]).push([[0],{209:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return g})),i.d(e,"b",(function(){return M}));var n=i(1),r=i.n(n),a=i(9),s=i(4),o=i(3),c=i(13),u=i(100),d=i(30),l=i.n(d);u.BinaryReader.prototype.readPubkey=function(){var t=this.readFixedArray(32);return new c.c(t)},u.BinaryWriter.prototype.writePubkey=function(t){this.writeFixedArray(t.toBuffer())},u.BinaryReader.prototype.readPubkeyAsString=function(){var t=this.readFixedArray(32);return l.a.encode(t)},u.BinaryWriter.prototype.writePubkeyAsString=function(t){this.writeFixedArray(l.a.decode(t))};var p,h,f=new c.c("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),b="metadata",j="edition";!function(t){t[t.Uninitialized=0]="Uninitialized",t[t.MetadataV1=4]="MetadataV1",t[t.EditionV1=1]="EditionV1",t[t.MasterEditionV1=2]="MasterEditionV1",t[t.MasterEditionV2=6]="MasterEditionV2",t[t.EditionMarker=7]="EditionMarker"}(p||(p={})),function(t){t.Audio="audio",t.Video="video",t.Image="image",t.VR="vr"}(h||(h={}));var y=function(){function t(e){Object(o.a)(this,t),this.key=void 0,this.ledger=void 0,this.key=p.EditionMarker,this.ledger=e.ledger}return Object(s.a)(t,[{key:"editionTaken",value:function(t){var e=t%248,i=Math.floor(e/8);if(i>30)throw Error("bad index for edition");var n=7-e%8,r=Math.pow(2,n);return 0!==(this.ledger[i]&r)}}]),t}(),m=function t(e){Object(o.a)(this,t),this.address=void 0,this.verified=void 0,this.share=void 0,this.address=e.address,this.verified=e.verified,this.share=e.share},v=function t(e){Object(o.a)(this,t),this.name=void 0,this.symbol=void 0,this.uri=void 0,this.sellerFeeBasisPoints=void 0,this.creators=void 0,this.name=e.name,this.symbol=e.symbol,this.uri=e.uri,this.sellerFeeBasisPoints=e.sellerFeeBasisPoints,this.creators=e.creators},O=function(){function t(e){Object(o.a)(this,t),this.key=void 0,this.updateAuthority=void 0,this.mint=void 0,this.data=void 0,this.primarySaleHappened=void 0,this.isMutable=void 0,this.editionNonce=void 0,this.masterEdition=void 0,this.edition=void 0,this.key=p.MetadataV1,this.updateAuthority=e.updateAuthority,this.mint=e.mint,this.data=e.data,this.primarySaleHappened=e.primarySaleHappened,this.isMutable=e.isMutable,this.editionNonce=e.editionNonce}return Object(s.a)(t,[{key:"init",value:function(){var t=Object(a.a)(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(this.mint);case 2:e=t.sent,this.edition=e,this.masterEdition=e;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),x=new Map([[function t(e){Object(o.a)(this,t),this.instruction=0,this.data=void 0,this.isMutable=void 0,this.data=e.data,this.isMutable=e.isMutable},{kind:"struct",fields:[["instruction","u8"],["data",v],["isMutable","u8"]]}],[function t(e){Object(o.a)(this,t),this.instruction=1,this.data=void 0,this.updateAuthority=void 0,this.primarySaleHappened=void 0,this.data=e.data?e.data:null,this.updateAuthority=e.updateAuthority?e.updateAuthority:null,this.primarySaleHappened=e.primarySaleHappened},{kind:"struct",fields:[["instruction","u8"],["data",{kind:"option",type:v}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]]}],[function t(e){Object(o.a)(this,t),this.instruction=10,this.maxSupply=void 0,this.maxSupply=e.maxSupply},{kind:"struct",fields:[["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]}],[function t(e){Object(o.a)(this,t),this.instruction=9,this.supply=void 0,this.supply=e.supply},{kind:"struct",fields:[["instruction","u8"],["supply","u64"]]}],[function t(e){Object(o.a)(this,t),this.key=void 0,this.supply=void 0,this.maxSupply=void 0,this.printingMint=void 0,this.oneTimePrintingAuthorizationMint=void 0,this.key=p.MasterEditionV1,this.supply=e.supply,this.maxSupply=e.maxSupply,this.printingMint=e.printingMint,this.oneTimePrintingAuthorizationMint=e.oneTimePrintingAuthorizationMint},{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]}],[function t(e){Object(o.a)(this,t),this.key=void 0,this.supply=void 0,this.maxSupply=void 0,this.key=p.MasterEditionV2,this.supply=e.supply,this.maxSupply=e.maxSupply},{kind:"struct",fields:[["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]}],[function t(e){Object(o.a)(this,t),this.key=void 0,this.parent=void 0,this.edition=void 0,this.key=p.EditionV1,this.parent=e.parent,this.edition=e.edition},{kind:"struct",fields:[["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]}],[v,{kind:"struct",fields:[["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[m]}]]}],[m,{kind:"struct",fields:[["address","pubkeyAsString"],["verified","u8"],["share","u8"]]}],[O,{kind:"struct",fields:[["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",v],["primarySaleHappened","u8"],["isMutable","u8"]]}],[y,{kind:"struct",fields:[["key","u8"],["ledger",[31]]]}]]),k=new RegExp("\0","g"),g=function(t){var e=Object(u.deserializeUnchecked)(x,O,t);return e.data.name=e.data.name.replace(k,""),e.data.uri=e.data.uri.replace(k,""),e.data.symbol=e.data.symbol.replace(k,""),e};function w(t){return A.apply(this,arguments)}function A(){return(A=Object(a.a)(r.a.mark((function e(i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.findProgramAddress([t.from(b),f.toBuffer(),new c.c(i).toBuffer(),t.from(j)],f);case 2:return e.abrupt("return",e.sent[0].toBase58());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(t){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(r.a.mark((function e(i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.c.findProgramAddress([t.from(b),f.toBuffer(),i.toBuffer()],f);case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,i(15).Buffer)},342:function(t,e,i){},343:function(t,e,i){},344:function(t,e){},347:function(t,e){},366:function(t,e){},367:function(t,e){},432:function(t,e){},434:function(t,e){},448:function(t,e){},452:function(t,e){},454:function(t,e){},464:function(t,e){},466:function(t,e){},497:function(t,e){},499:function(t,e){},506:function(t,e){},507:function(t,e){},531:function(t,e){},533:function(t,e){},541:function(t,e){},543:function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),a=i(31),s=i.n(a),o=(i(342),i(343),i(323)),c=i(587),u=i(588),d=i(8),l=i(117),p=i(42),h=i(101),f=i(13),b=i(150),j=i(576),y=i(577),m=i(19),v=function(){var t=Object(p.d)().wallet;return Object(m.jsxs)(j.a,{style:{display:"flex"},children:[Object(m.jsx)("div",{style:{flexGrow:1},children:Object(m.jsx)("img",{src:"ram-logo.png",alt:"RAM logo",style:{maxWidth:150}})}),Object(m.jsx)(l.c,{}),t&&Object(m.jsx)(l.b,{startIcon:Object(m.jsx)(y.a,{}),style:{marginLeft:8}})]})},O=function(t){var e=t.children,i=d.e.Devnet,r=Object(n.useMemo)((function(){return Object(f.h)(i)}),[i]),a=Object(n.useMemo)((function(){return[Object(h.b)(),Object(h.c)(),Object(h.e)({network:i}),Object(h.d)({network:i}),Object(h.a)()]}),[i]),s=Object(b.b)().enqueueSnackbar,o=Object(n.useCallback)((function(t){s(t.message?"".concat(t.name,": ").concat(t.message):t.name,{variant:"error"}),console.error(t)}),[s]);return Object(m.jsx)(p.a,{endpoint:r,children:Object(m.jsx)(p.b,{wallets:a,onError:o,autoConnect:!0,children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(v,{}),e]})})})},x=i(586),k=i(153),g=i(25),w=i(14),A=i(1),M=i.n(A),S=i(9),B=i(589),E=i(585),P=i(572),F=i(319),V=i(578),C=i(579),H=i(581),T=i(592),z=i(582),I=i(569),R=i(591),U=i(583),W=i(573),q=i(574),D=i(580),L=(i(534),i(321)),N=i.n(L),Q=i(584),J=function(t){return Object(m.jsx)("model-viewer",{src:t.src,"auto-rotate":!0,"rotation-per-second":"30deg",style:{minHeight:400,width:"100%"}})},Y=function(t){var e,i=t.metadata,r=Object(n.useState)(),a=Object(g.a)(r,2),s=a[0],o=a[1],c=Object(n.useState)(!1),u=Object(g.a)(c,2),d=u[0],l=u[1];Object(n.useEffect)((function(){function t(){return(t=Object(S.a)(M.a.mark((function t(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(i.data.uri);case 2:return t.next=4,t.sent.json();case 4:e=t.sent,o(e);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[i]);var p=Object(n.useMemo)((function(){var t,e=null===s||void 0===s||null===(t=s.properties.files)||void 0===t?void 0:t.find((function(t){return"string"!==typeof t&&"glb"===t.type}));return"string"!==typeof e&&(null===e||void 0===e?void 0:e.uri)}),[s]);return Object(m.jsxs)(V.a,{variant:"outlined",style:{height:"100%"},children:[p?Object(m.jsx)(J,{src:p}):s?Object(m.jsx)(C.a,{component:"img",src:null===s||void 0===s?void 0:s.image}):Object(m.jsx)(D.a,{height:"100%"}),Object(m.jsxs)(H.a,{children:[Object(m.jsx)(P.a,{variant:"h5",children:i.data.name}),Object(m.jsx)(P.a,{children:null===s||void 0===s?void 0:s.description}),Object(m.jsx)(m.Fragment,{children:null===s||void 0===s||null===(e=s.attributes)||void 0===e?void 0:e.map((function(t){return Object(m.jsx)(B.a,{m:1,display:"inline",children:Object(m.jsx)(T.a,{component:"div",style:{height:"100%"},label:Object(m.jsxs)(B.a,{m:1,children:[Object(m.jsx)(P.a,{children:t.trait_type}),Object(m.jsx)(P.a,{color:"textSecondary",children:t.value})]})})})}))})]}),Object(m.jsx)(z.a,{children:p&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(I.a,{variant:"outlined",onClick:function(){return l(!0)},children:"AR QR code"}),Object(m.jsxs)(R.a,{open:d,onClose:function(){return l(!1)},children:[Object(m.jsx)(U.a,{children:Object(m.jsx)(W.a,{onClick:function(){return l(!1)},children:Object(m.jsx)(Q.a,{})})}),Object(m.jsx)(B.a,{m:4,children:Object(m.jsx)(N.a,{value:"".concat(window.location.href,"ar/").concat(btoa(p)),size:512,renderAs:"canvas"})}),Object(m.jsx)(q.a,{children:Object(m.jsx)(P.a,{children:"Scan with mobile to view your blockjam"})})]})]})})]})},G=i(209),K=(new f.c("EUDr68zDWdEwrrW2UUYCBFaiHVqhr47bEZQtTTX8A1e5"),function(){var t=Object(S.a)(M.a.mark((function t(e,i){var n;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getParsedTokenAccountsByOwner(i,{programId:F.a});case 2:return n=t.sent.value,console.log(n),t.abrupt("return",n.map((function(t){var e=t.account.data.parsed.info;if(1===e.tokenAmount.uiAmount&&0===e.tokenAmount.decimals)return new f.c(e.mint)})).filter(Boolean));case 5:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}()),X=function(){var t=Object(S.a)(M.a.mark((function t(e,i){var n,r,a,s,o,c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(i.map((function(t){return Object(G.b)(t)})));case 2:return n=t.sent,t.next=5,e.getMultipleAccountsInfo(n);case 5:r=t.sent,a=[],s=Object(w.a)(r);try{for(s.s();!(o=s.n()).done;)(c=o.value)&&a.push(Object(G.a)(c.data))}catch(u){s.e(u)}finally{s.f()}return t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),Z=function(){var t=Object(p.c)().connection,e=Object(p.d)(),i=e.connected,r=e.publicKey,a=Object(n.useState)(),s=Object(g.a)(a,2),o=s[0],c=s[1];return Object(n.useEffect)((function(){i&&r&&K(t,r).then((function(e){return X(t,e)})).then(c)}),[t,i,r]),Object(m.jsx)(B.a,{m:2,children:i?Object(m.jsx)(E.a,{container:!0,justifyContent:"center",alignItems:"stretch",direction:"row",spacing:3,children:null===o||void 0===o?void 0:o.map((function(t){return Object(m.jsx)(E.a,{item:!0,xs:6,lg:4,xl:3,children:Object(m.jsx)(Y,{metadata:t})})}))}):Object(m.jsx)(P.a,{children:"Connect wallet"})})},_=i(201),$=i(37),tt=function(){var t=Object($.e)().base64modelUri;return Object(m.jsx)("model-viewer",{src:atob(t),"auto-rotate":!0,"rotation-per-second":"30deg",ar:!0,"ar-modes":"scene-viewer webxr",style:{minHeight:400}})},et=Object(o.a)({palette:{type:"dark",primary:{main:x.a[700]},background:{default:k.a[900]}},overrides:{MuiButtonBase:{root:{justifyContent:"flex-start"}},MuiButton:{root:{textTransform:void 0,padding:"12px 16px"},startIcon:{marginRight:8},endIcon:{marginLeft:8}}}}),it=function(){return Object(m.jsxs)(c.a,{theme:et,children:[Object(m.jsx)(u.a,{}),Object(m.jsx)(b.a,{children:Object(m.jsxs)(_.a,{children:[Object(m.jsx)($.a,{path:"/",children:Object(m.jsx)(O,{children:Object(m.jsx)(Z,{})})}),Object(m.jsx)($.a,{path:"/ar/:base64modelUri",children:Object(m.jsx)(tt,{})})]})})]})},nt=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,594)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;i(t),n(t),r(t),a(t),s(t)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(it,{})}),document.getElementById("root")),nt()}},[[543,1,2]]]);
//# sourceMappingURL=main.fab3e8e0.chunk.js.map